{% load static %}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{% block title %}NAGOYAMESHI{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{%static 'nagoyameshi/css/style.css'%}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    {# 予約時のflatpickr#}
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ja.js"></script>
    <script src="{% static 'nagoyameshi/js/script.js' %}"></script>
  

    {% block extra_head %}
    {% endblock %}

</head>
<body>
    <header>
        <input id="r_sidebar" class="r_sidebar_button" type="checkbox">
        <div class="right_header">
            <a class="header_link" href="{% url 'nagoyameshi:index' %}"><img src="{% static 'assets/NAGOYAMESHI_logo.png' %}" alt="logo"></a>

            {% if request.user.is_authenticated %}
            <label class="r_sidebar_label" for="r_sidebar">
                <i class="fas fa-bars"></i>
                <i class="fas fa-times"></i>
            </label>
            {% else %}
            <div class="r_sidebar_links">
                <a href="{% url 'login' %}" >ログイン</a>
                <a href="{% url 'signup' %}">会員登録</a>
            </div>
            {% endif %}

            <div class="header_right_content">
            {% block header_right_content %}
            {% endblock %}
            </div>
        </div>
        
        <div class="r_sidebar_menu">

            <!--有料会員の場合-->
            {% if request.user.customer %}
            <ul class="sidebar_ul"> 
                <li class="sidebar_li"><i class="fa-regular fa-circle-user" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:membership' %}">会員情報管理</a></li>
                <li class="sidebar_li"><i class="fa-regular fa-heart" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:favorite' %}">お気に入り店舗管理</a></li>
                <li class="sidebar_li"><i class="fa-regular fa-calendar-days" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:reservation' %}">予約管理</a></li>
                <!--管理者のみ表示-->
                {% if request.user.is_staff %}
                <li class="sidebar_li"><i class="fa-solid fa-yen-sign" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:profit' %}">売上管理</a></li>
                {% endif %}
            </ul>
            <div class="sidebar_logout">
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <input class="btn btn-outline-warning"  type="submit" value="ログアウト">
                </form>
            </div>
            {% endif %}

            <!--無料会員の場合-->
            {% if not request.user.customer %}
            <ul class="sidebar_ul"> 
                <li class="sidebar_li"><i class="fa-regular fa-circle-user" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:membership' %}">会員情報管理</a></li>
                <li class="sidebar_li"><i class="fa-regular fa-heart" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:premium_contents' %}">お気に入り店舗管理</a></li>
                <li class="sidebar_li"><i class="fa-regular fa-calendar-days" style="margin-right: 10px;"></i><a href="{% url 'nagoyameshi:premium_contents' %}">予約管理</a></li>
            </ul>
            <div class="sidebar_logout">
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <input class="btn btn-outline-warning"  type="submit" value="ログアウト">
                </form>
            </div>
            {% endif %}

            {% block sidebar_content %}
            {% endblock %}
        </div>
        <label class="r_sidebar_closer" for="r_sidebar"></label>

    </header>

    <main>
    {% block main %}
    {% endblock %}
    </main>

    <footer id="footer_area">
        <ul>
            <li><a href="{% url 'nagoyameshi:company_detail' %}">会社概要</a></li>
            <li><a href="{% url 'nagoyameshi:terms_of_service' %}">利用規約</a></li>
            <li><a href="{% url 'nagoyameshi:contact' %}">お問い合わせ</a></li>
        </ul>
        <div>
            <small>&copy; NAGOYAMESHI</small>
        </div>
    </footer>

    {% block extra_body %}
    {% endblock %}

</body>
</html>

